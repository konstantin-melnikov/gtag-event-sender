(()=>{var t={749:(t,e)=>{function n(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}new(function(){function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e="prod","env"in this?Object.defineProperty(this,"env",{value:e,enumerable:!0,configurable:!0,writable:!0}):this.env=e;var n=this.getParam("gtag_event_sender","env"),a=this.getParam("gtag_event_sender","id");this.init(n,a)}var e,a;return e=t,(a=[{key:"init",value:function(t,e){var n=this;t&&(this.env=t,this.log("Script run in ".concat(this.env," env"))),this.checkGtag()?document.addEventListener("DOMContentLoaded",(function(){n.initEvents()})):e&&(this.initGtag(e),document.addEventListener("DOMContentLoaded",(function(){n.initEvents()})))}},{key:"initGtag",value:function(t){this.log("Add Gtag script for ".concat(t));var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.async=!0,n.src="https://www.googletagmanager.com/gtag/js?id=".concat(t);var a=document.createElement("script");a.text="window.dataLayer = window.dataLayer || [];\n      function gtag(){dataLayer.push(arguments);}\n      gtag('js', new Date());\n      gtag('config', '".concat(t,"');"),e.prepend(n,a)}},{key:"initEvents",value:function(){var t=this,e=document.querySelectorAll("[gtag]");void 0!==e&&e.forEach((function(e){switch(e.getAttribute("gtag")){case"click":t.eventClick(e);break;case"submit":t.eventSubmit(e);break;case"scroll":t.eventScroll(e);break;default:t.log('Method for event "'.concat(e.getAttribute("gtag"),'" not found.'))}}))}},{key:"eventClick",value:function(t){var e=this;t.addEventListener("click",(function(t){e.sendEvent(t.target)}))}},{key:"eventSubmit",value:function(t){var e=this;t.addEventListener("submit",(function(t){t.preventDefault(),t.stopPropagation(),e.sendEvent(t.target),"dev"==e.env?e.log({message:"Form can send in prod env"}):t.target.submit()}))}},{key:"eventScroll",value:function(t){var e=this;new IntersectionObserver((function(t,n){t.forEach((function(t){t.isIntersecting&&(e.sendEvent(t.target),n.unobserve(t.target))}))}),{}).observe(t)}},{key:"sendEvent",value:function(t){var e=t.getAttribute("gtag_action")||!1;if(!e)return this.log({message:"Must be attribute gtag_action",target:t}),!1;var n={};["event_category","event_label","value"].map((function(e){t.getAttribute("gtag_".concat(e))&&(n[e]=t.getAttribute("gtag_".concat(e)))})),"dev"==this.env?this.log({message:"Sent event",event:["event",e,n]}):gtag("event",e,n)}},{key:"setDevEnv",value:function(){this.env="dev"}},{key:"log",value:function(t){if("dev"==this.env){var e;try{throw new Error}catch(t){/([^(]+)@|at ([^(]+) \(/g.exec(t.stack),e=t.stack.split("at ")[2].split(" ")[0]}console.log({func:e,obj:t})}}},{key:"checkGtag",value:function(){return void 0!==window.dataLayer||(this.log("Gtag is not init."),!1)}},{key:"getParam",value:function(t,e){for(var n=document.getElementsByTagName("script"),a=0;a<n.length;a++)if(n[a].src.indexOf("/"+t)>-1){for(var i=n[a].src.split("?").pop().split("&"),r=0;r<i.length;r++){var o=i[r].split("=");if(o[0]===e)return o[1]}return!1}return!1}}])&&n(e.prototype,a),t}())}},e={};!function n(a){if(e[a])return e[a].exports;var i=e[a]={exports:{}};return t[a](i,i.exports,n),i.exports}(749)})();